@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix prov:    <http://www.w3.org/ns/prov#> .
@prefix provone: <http://purl.org/provone> .
@prefix wfms:    <http://www.wfms.org/registry.xsd> .
@prefix rdf:  	 <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix provone: <http://dataone.org/ns/provone#> .
@prefix yw:   	 <http://yesworkflow.org/ns/yesworkflow#> .
@prefix cwfo:    <http://cwf.tw.rpi.edu/vocab#> . 
@prefix cwf:     <http://cwf.tw.rpi.edu/data#> .

cwf:workflow_cpp 
	a provone:Workflow;
	rdfs:label "CPP_Workflow" ;   
	rdfs:coment "CPP Workflow: Workflow top level" ;
        provone:hasSubProgram cwf:program_cpp
	.

cwf:program_cpp
	a provone:Program;
	rdfs:label "CPP_Data" ;  
        provone:hasSubProgram cwf:data_gathering ;
        provone:hasSubProgram cwf:data_processing ;
        provone:hasSubProgram cwf:creating_parafac_model ;
        provone:hasSubProgram cwf:exploratory_analysis ;
        provone:hasSubProgram cwf:clustering 
             .

cwf:data_gathering
	a provone:Program;
	rdfs:label "Data Gathering"   ;
	rdfs:comment "Workflow Phase 0" ;
	provone:hasSubProgram cwf:test_dataset
	.	

cwf:test_dataset 
	a provone:Program;
	rdfs:label "Test Dataset (TENSOR)";
	provone:hasOutProgram cwf:adjust_apgar_scores
	.

cwf:data_processing
	a provone:Program;
	rdfs:label "Data Processing"   ;
	rdfs:comment "Workflow Phase 1" ;
	provone:hasSubProgram cwf:adjust_apgar_scores 
	.	

cwf:adjust_apgar_scores 
	a provone:Program;
	rdfs:label "Adjust APGAR Scores";
	rdfs:comment "Ensure APGAR scores are between 0-10";
	dcterms:conformsTo <https://www.nlm.nih.gov/medlineplus/ency/article/003402.htm> ;
	provone:hasInProgram cwf:test_dataset;
	provone:hasOutProgram cwf:growth_data
	.
 
cwf:channel_test_dataset_adjust_apgar_scores
	a provone:Channel
	.
 
cwf:growth_data 
	a provone:Program;
	rdfs:label "Growth Data";
	provone:hasInProgram cwf:adjust_apgar_scores_dataset;
	dcterms:conformsTo <http://purl.obolibrary.org/obo/STATO_0000237>;
	dcterms:conformsTo <http://purl.obolibrary.org/obo/OBI_0000679>;
	provone:hasOutProgram cwf:sga_kids
	.
	
cwf:channel_adjust_apgar_scores_sga_kids
	a provone:Channel
	.
 
cwf:sga_kids
	a provone:Program;
	rdfs:label "SGA Kids";
	provone:hasInProgram cwf:adjust_apgar_scores_dataset;
	provone:hasOutProgram cwf:generate_parafac_model;
	.
	
cwf:channel_sga_kids_generate_parafac_model
	a provone:Channel
	.

cwf:creating_parafac_model
	a provone:Program;
	rdfs:label "Creating PARAFAC Model" ;
	rdfs:comment "Workflow Phase 2" ;
	dcterms:conformsTo <http://en.wikipedia.org/wiki/Tensor_rank_decomposition> ;
        provone:hasSubProgram cwf:generate_parafac_model 
        .	
	
cwf:generate_parafac_model
	a provone:Program;
	rdfs:label "Generate PARAFAC Model";
	provone:hasInProgram cwf:sga_kids;
	provone:hasOutProgram cwf:generate_plots;
	provone:hasOutProgram cwf:fuzzy_c_means_clustering
	.

cwf:channel_generate_parafac_model_generate_plots
	a provone:Channel
	.

cwf:exploratory_analysis
	a provone:Program;
	rdfs:label "Exploratory Analysis" ;
	rdfs:comment "Workflow Phase 3" ;
        provone:hasSubProgram cwf:generate_plots
	. 
	
cwf:generate_plots
	a provone:Program;
	rdfs:label "Generate Plots";
	provone:hasInProgram cwf:generate_parafac_model;
	provone:hasVisualization cwf:ea_plot_1 ;
	provone:hasVisualization cwf:ea_plot_2 ;
	provone:hasVisualization cwf:ea_plot_3 ;
	provone:hasVisualization cwf:ea_plot_4 ;
	provone:hasVisualization cwf:ea_plot_5 ;
	provone:hasVisualization cwf:ea_plot_6 ;
	provone:hasVisualization cwf:ea_plot_7 ;
	.	

cwf:ea_plot_1
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 1";
        rdfs:comment "Create a 3D plot for each time point for the original data, the modeled data, and the residuals" 
	.	

cwf:ea_plot_2
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 2";
        rdfs:comment "Create a plot of the loadings for each component in each mode to see which features, subjects, and time points are more important in their components and respective modes" 
	.	

cwf:ea_plot_3
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 3";
        rdfs:comment "Create a plot of the scores for each mode to see where each point falls" 
	.	

cwf:ea_plot_4
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 4";
        rdfs:comment "Create a gradient for each of the characteristics by their number values on the score plot for subjects" 
	.	

cwf:ea_plot_5
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 5";
        rdfs:comment "Create a plot of the scores colored by SGA to see where they" 
	.	

cwf:ea_plot_6
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 6";
        rdfs:comment "Create a heat map for each mode to see where scores in each plot relative to each other" 
	.	

cwf:ea_plot_7
	a provone:Visualization;
	rdfs:label "Exploratory Analysis Plot 7";
        rdfs:comment "Create a plot that shows the characteristics versus the more important component, depending on the results of the PARAFAC model." 
	.	

cwf:clustering
	a provone:Program;
	rdfs:label "Clustering";
	rdfs:comment "Workflow Phase 4" ;
	provone:hasSubProgram cwf:fuzzy_c_means_clustering ;
	provone:hasSubProgram cwf:create_iq_histogram
	.	

cwf:channel_generate_plots_fuzzy_c_means_clustering
	a provone:Channel
	.
 
cwf:fuzzy_c_means_clustering
	a provone:Program;
	rdfs:label "Fuzzy C Means Clustering";
	provone:hasInProgram cwf:generate_plots;
	provone:hasOutProgram cwf:create_iq_histogram
	.	
	
cwf:channel_fuzzy_c_means_clustering_generate_plots
	a provone:Channel
	.
 
cwf:create_iq_histogram
	a provone:Program;
	rdfs:label "Create IQ Histogram";
	provone:hasInProgram cwf:fuzzy_c_means_clustering
	.	
	
